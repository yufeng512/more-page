{"version":3,"sources":["webpack:///./src/assets/close.png","webpack:///./src/pages/card/card.vue?c756","webpack:///./src/pages/card/card.vue","webpack:///src/pages/card/card.vue","webpack:///./src/api/baseUrl.js","webpack:///./src/utils/request.js","webpack:///src/components/card/index.vue","webpack:///./src/api/memberPolicy/index.js","webpack:///./src/api/memberCenter/index.js","webpack:///./src/components/card/index.vue?6a90","webpack:///./src/components/card/index.vue","webpack:///./src/router/card.js","webpack:///./src/pages/card/card.js","webpack:///./src/assets/qrcode.png"],"names":["module","exports","card_card","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","pages_card_card","__webpack_require__","normalizeComponent","name","BASEAPI","console","log","baseUrl","MemberInsert","MemberUpdate","QueryByMobile","QueryByOpenId","CurrentCity","Provinces","Cities","Districts","FindByCode","Query","Verify","AddMobile","ListAvailable","CounterList","Send","CodeVerify","Login","MemberInfo","Querypoint","MemberCoupon","MemberNoCoupon","MemberScoreQuery","MemberOrderQuery","GetCardSign","DecryptCode","addQuestion","hasPartQues","post","url","data","arguments","length","undefined","promise_default","a","resolve","reject","axios_default","then","response","err","defaults","timeout","baseURL","headers","components_card","tags","activeName","isShow","isShowCard","target","couponList","title","beginDate","endDate","methods","getDecryptCode","_this","obj","getCode","params","card_id","encrypt_code","res","code","memberCouponList","memberCode","handleClick","tab","event","n","lodash_default","filter","item","status","use","self","couponName","browser_default","toDataURL","couponNo","errorCorrectionLevel","type","rendererOpts","quality","close","str","location","href","num","indexOf","arr","substr","split","i","no","memberNo","_this2","mounted","selectortype_template_index_0_src_components_card","_vm","on","tab-click","model","value","callback","$$v","expression","_l","index","key","label","staticClass","_v","_s","click","$event","src","alt","_e","directives","rawName","router_card","path","component","card_normalizeComponent","ssrContext","vue_runtime_esm","lib_tabs_default","lib_tab_pane_default","vue_router_esm","router","routes","el","h"],"mappings":"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","file":"static/app_js/js/card/card.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABaklEQVRYR+2WvUvDQBjG3yc46So4FERcHP3AqYj2rt38e92SXiriJBYHhy4FBQfBqXvukZMUSkiay0WJQ7Id5O753fN+HaTjDx3rSw/QO/B/HSCJNE1nJHettbeTyeSzScXEcXwQRdEdgJVSSlft3eqAMeZZRM5JLq21Q1+IXPwRwDHJF631WRBA4aAlyevxePyxzYkkSQYA7nPxWvDaHChAvJMcVkHk4u7mh76u1QK42+YQMwAnJEshCuILa+2NT8i8AByEMWaf5EMZRFEcwJVS6ssnab0BqiBEZCePubN90UTcndkIoATiLQcYhIgHARQh3DpU/DcBXgGMfOO+mRutQwCAInIU6kIjgLJK+LERWNf+3yVhp2XYaSPqtBW3GEbe86AyCd17wBgzB3DqO1jW5bXZmkVkrpS6CBrH0+n0CcBelmUjn8GyKeIgoigyJFda68sgAJ9h0vafRn2grVjZ/h6gd6BzB74BoAdsMDGmydYAAAAASUVORK5CYII=\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/close.png\n// module id = JA1j\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c77b5f9a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/card/card.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./card.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./card.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c77b5f9a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./card.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/card/card.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <router-view/>\n  </div>\n</template>\n<script>\n\nexport default {\n  name: 'card'\n}\n</script>\n\n\n// WEBPACK FOOTER //\n// src/pages/card/card.vue","const BASEAPI = process.env.BASE_API\nconsole.log('请求接口地址',BASEAPI)\nexport default { \n    MemberInsert: BASEAPI + 'mobile/member/insert', //会员注册接口\n    MemberUpdate: BASEAPI + 'mobile/member/update', //会员更新\n    QueryByMobile: BASEAPI + 'mobile/member/queryByMobile/', //根据手机号查询会员信息\n    QueryByOpenId: BASEAPI + 'mobile/member/queryByOpenId/', //根据OpenId查询会员信息\n    CurrentCity: BASEAPI + 'mobile/region/currentCity', //获取经纬度所在的城市\n    Provinces: BASEAPI + 'mobile/region/provinces', //省列表\n    Cities: BASEAPI + 'mobile/region/cities', //城市列表\n    Districts: BASEAPI + 'mobile/region/districts', //区列表\n    //核销\n    FindByCode: BASEAPI + 'mobile/ba/findByCode/',//核销查询\n    Query: BASEAPI + 'mobile/campaignDetail/query', //活动礼包查询\n    Verify: BASEAPI + 'mobile/campaignDetail/verify/', //活动礼包核销\n    AddMobile: BASEAPI + 'mobile/campaignDetail/addMobile', //活动礼包自助核销接口\n    ListAvailable: BASEAPI + 'mobile/campaign/listAvailable', //渠道查询接口\n    //专柜查询\n    CounterList: BASEAPI + 'mobile/counter/counterList', //城市门店列表\n    //会员注册\n    Send: BASEAPI + 'mobile/code/send', //发送短信验证码接口\n    CodeVerify: BASEAPI + 'mobile/code/verify', //校验短信验证码接口\n    Login: BASEAPI + 'mobile/auth/login', //登陆\n    //会员中心\n    MemberInfo: BASEAPI + 'mobile/member/queryByMobile/', //会员信息\n    Querypoint: BASEAPI + 'mobile/scoreQuery', //积分信息\n    MemberCoupon: BASEAPI + 'mobile/member/couponQueryByCode', //卡券信息\n    MemberNoCoupon: BASEAPI + 'mobile/member/couponQuery', //会员卡号查询\n    MemberScoreQuery: BASEAPI + 'mobile/member/scoreQuery', //会员卡号积分查询\n    MemberOrderQuery: BASEAPI + 'mobile/member/orderQuery', //会员卡号消费查询\n\n    GetCardSign: BASEAPI + 'mobile/wx/getCardSign', //会员卡param memberCode 签名\n    DecryptCode: BASEAPI + 'mobile/wx/decryptCode', //会员param card_id, encrypt_code\n\n    //问卷\n    addQuestion: BASEAPI + 'mobile/member/addQuestion', //提交问卷    \n    hasPartQues: BASEAPI + 'mobile/member/hasPartQues/', //判断是否\n}\n\n\n// WEBPACK FOOTER //\n// ./src/api/baseUrl.js","import axios from 'axios';\nimport { Message } from 'element-ui';\n\naxios.defaults.timeout = 5000;\naxios.defaults.baseURL = '';\n\naxios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded';\n\n// http request 拦截器\n// axios.interceptors.request.use(\n//   config => {\n//     // const token = getCookie('名称');注意使用的时候需要引入cookie方法，推荐js-cookie\n//     // config.data = JSON.stringify(config.data);\n//     config.headers = {\n//       'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'\n//       // 'Content-Type': 'multipart/form-data'\n//     }\n//     // if(token){\n//     //   config.params = {'token':token}\n//     // }\n//     return config;\n//   },\n//   error => {\n//     return Promise.reject(err);\n//   }\n// );\n\n\n//http response 拦截器\n// axios.interceptors.response.use(\n//   response => {\n//     if (response.data.errCode == 2) {\n//       router.push({\n//         path: \"/login\",\n//         querry: {\n//           redirect: router.currentRoute.fullPath\n//         } //从哪个页面跳转\n//       })\n//     }\n//     return response;\n//   },\n//   error => {\n//     return Promise.reject(error)\n//   }\n// )\n\n\n/**\n * 封装get方法\n * @param url\n * @param data\n * @returns {Promise}\n */\n\nexport function fetch(url, params = {}) {\n  return new Promise((resolve, reject) => {\n    axios.get(url, {\n        params: params\n      })\n      .then(response => {\n        // console.log(response)\n        resolve(response.data);\n      })\n      .catch(err => {\n        reject(err)\n      })\n  })\n}\n\n\n/**\n * 封装post请求\n * @param url\n * @param data\n * @returns {Promise}\n */\n\nexport function post(url, data = {}) {\n  return new Promise((resolve, reject) => {\n    axios.post(url, data)\n    .then(response => {\n        console.log(response)\n        resolve(response.data);\n      }, err => {\n        reject(err)\n      })\n  })\n}\n\n/**\n * 封装patch请求\n * @param url\n * @param data\n * @returns {Promise}\n */\n\nexport function patch(url, data = {}) {\n  return new Promise((resolve, reject) => {\n    axios.patch(url, data)\n      .then(response => {\n        resolve(response.data);\n      }, err => {\n        reject(err)\n      })\n  })\n}\n\n/**\n * 封装put请求\n * @param url\n * @param data\n * @returns {Promise}\n */\n\nexport function put(url, data = {}) {\n  return new Promise((resolve, reject) => {\n    axios.put(url, data)\n      .then(response => {\n        resolve(response.data);\n      }, err => {\n        reject(err)\n      })\n  })\n}\n\n\n// WEBPACK FOOTER //\n// ./src/utils/request.js","<template>\n    <div>\n        <el-tabs type=\"border-card\" v-model=\"activeName\" @tab-click=\"handleClick\">\n            <el-tab-pane :label=\"item.name\" v-for=\"(item, index) in tags\" :key=\"index\">\n                <div class=\"list-box\" v-if=\"couponList.length>0\">\n                    <div class=\"list-item flex-btw\" v-for=\"(item,index) in couponList\" :key=\"index\">\n                        <div>\n                            <h4>{{item.couponName}}</h4>\n                            <p>有效期：{{item.beginDate}} - {{item.endDate}} </p>\n                        </div>\n                        <div class=\"item-code flex-column\" @click=\"use(item)\">\n                            <div class=\"flex-column\">\n                                <img src=\"@/assets/qrcode.png\" alt=\"\">\n                            </div>\n                            <span>点击使用</span>\n                        </div>\n                    </div>\n                </div>\n                <div v-show=\"isShowCard\">\n                    <p>当前没有卡券</p>\n                </div>\n            </el-tab-pane>\n        </el-tabs>\n        <div class=\"popup\" v-if=\"isShow\">\n            <div class=\"content\">\n                <img class=\"close\" src=\"@/assets/close.png\" alt=\"\" @click=\"close\">\n                <h4>{{title}}</h4>\n                <p>有效期：{{beginDate}}-{{endDate}} </p>\n                <img class=\"\" :src=\"url\" alt=\"\">\n                <p>扫码核销</p>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nimport { getMemberNoCoupon } from '@/api/memberCenter/index'\nimport { DecryptCode } from '@/api/memberPolicy/index'\nimport QRCode from 'qrcode'\nimport _ from 'lodash'\n\nexport default {\n    data () {\n        return {\n            tags:[ {name:'未使用'}, {name:'已使用'}, {name:'已过期'}],\n            activeName: '',\n            isShow: false,\n            isShowCard: false,\n            url: '',\n            target: [],\n            couponList: [],\n            title: '',\n            beginDate: '',\n            endDate: ''\n        }\n    },\n    methods: {\n      getDecryptCode () {\n        var obj = this.getCode()\n        var params = {\n          card_id: obj.card_id,\n          encrypt_code: obj.encrypt_code\n        }\n        DecryptCode(params).then(res=>{\n          // alert('res'+JSON.stringify(res))\n          if(res.code == 0){\n            this.memberCouponList(res.data.memberCode)\n          }\n        })\n      },\n      handleClick(tab, event) {\n        let n = this.activeName\n        if(n==0){ n=1 } else \n        if(n==1){ n=2 }else \n        if(n==2){ n = 3 }\n        this.couponList = _.filter(this.target, (item)=>{\n            return item.status == n\n        })\n      },\n      use(item){\n        let self = this\n        self.isShow = true\n        self.title = item.couponName\n        self.beginDate = item.beginDate\n        self.endDate = item.endDate\n        var opts = {\n          errorCorrectionLevel: 'H',\n          type: 'image/jpeg',\n          rendererOpts: {\n            quality: 0.3\n          }\n        }\n        \n        QRCode.toDataURL(item.couponNo, opts, function (err, url) {\n          if (err) throw err\n          // console.log(url)\n          self.url = url\n        })\n      },\n      close(){\n        this.isShow = false\n      },\n      getCode() {\n        //encrypt_code=ENCRYPT_CODE&card_id=CARDID\n        var obj={}\n        var str=location.href; //取得整个地址栏\n        var num=str.indexOf(\"?\")\n        str=str.substr(num+1); //取得所有参数   stringvar.substr(start [, length ]\n        var arr=str.split(\"&\"); //各个参数放到数组里\n        for(var i=0;i < arr.length;i++){\n          num=arr[i].split(\"=\");\n          if(num[0]=='encrypt_code'){\n            obj.encrypt_code=num[1]\n          }\n          if(num[0]=='card_id'){\n            obj.card_id=num[1]\n          }\n        }\n        return obj\n      },\n      memberCouponList(no) {\n        getMemberNoCoupon(no).then(res=>{\n          // alert('res111'+JSON.stringify(obj))\n          if(res.length>0){\n            this.target = res\n            this.couponList = _.filter(res,(item)=>{ return item.status == 1 })\n          }else{\n            this.isShowCard = true\n          }\n        })\n      }\n    },\n    mounted () {\n      this.getDecryptCode()\n    }\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.list-box\n  .list-item\n    border-bottom: 1px solid #dbdbdb\n    padding: 10px 0 \n    color: #666666\n    .item-code\n      width: 60px\n      img\n        width: 40%\n      span\n        margin-top: 5px\n        font-size: 12px  \n    h4\n      font-size: 16px\n      padding: 5px 0 10px\n    p\n      font-size: 12px\n.popup\n  position: fixed\n  width: 100%\n  height: 100%\n  top: 0\n  background: rgba(0,0,0,0.7)\n  z-index: 9999\n  .content\n    width: 70%\n    margin-left: 15%\n    margin-top: 50%\n    height: 220px\n    padding: 5px 0 10px\n    background: #ffffff\n    border-radius: 4px\n    text-align: center\n    .close \n      position: absolute\n      right: 16%\n    h4\n      font-size: 18px\n      margin: 20px 0 15px\n      text-align: center\n    p\n      text-align: center\n      font-size: 12px\n      color: #999999\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/card/index.vue","import api from '../baseUrl'\nimport { fetch, post, patch, put } from '@/utils/request'\nexport function getMapJson(url) {\n  return fetch(url)\n}\n//会员新增\nexport function MemberInsert(params) {\n  return post(api.MemberInsert, params)\n}\n//会员新增\nexport function Login(params) {\n  return post(api.Login, params)\n}\n//获取验证码\nexport function Send(data) {\n  return post(api.Send, data)\n}\n//验证验证码\nexport function CodeVerify(params) {\n  return fetch(api.CodeVerify, params)\n}\n//会员更新\nexport function MemberUpdate(params) {\n  return post(api.MemberUpdate, params)\n}\n//手机查询信息\nexport function QueryByMobile(params) {\n  return fetch(api.QueryByMobile + params)\n}\n//OpenId查询信息\nexport function QueryByOpenId(params) {\n  return fetch(api.QueryByOpenId + params)\n}\n//获取当前城市\nexport function CurrentCity(params) {\n  return fetch(api.CurrentCity, params)\n}\n//获取省\nexport function ProvincesList(params) {\n  return fetch(api.Provinces, params)\n}\n//获取城市\nexport function Cities(params) {\n  return fetch(api.Cities, params)\n}\n//获取区\nexport function Districts(params) {\n  return fetch(api.Districts, params)\n}\n//获取权限\nexport function GetCardSign(params) {\n  return post(api.GetCardSign +'?memberCode='+ params)\n}\n//获取权限\nexport function DecryptCode(params) {\n  return post(api.DecryptCode, params)\n}\n\n\n// WEBPACK FOOTER //\n// ./src/api/memberPolicy/index.js","import api from '../baseUrl'\nimport {\n  fetch,\n  post,\n  patch,\n  put\n} from '@/utils/request'\n//当前城市\nexport function getMemberInfo(mobile) {\n  return fetch(api.MemberInfo + mobile + '?tenantId=3')\n}\nexport function getMemberCoupon(couponNo) {\n  return post(api.MemberCoupon + '?tenantId=3&couponNo=' + couponNo)\n}\nexport function getMemberNoCoupon(memberNo) {\n  return post(api.MemberNoCoupon + '?tenantId=3&memberNo=' + memberNo)\n}\nexport function getMemberScoreQuery(memberNo) {\n  return post(api.MemberScoreQuery + '?tenantId=3&memberNo=' + memberNo)\n}\nexport function getMemberOrderQuery(memberNo) {\n  return post(api.MemberOrderQuery + '?tenantId=3&memberNo=' + memberNo)\n}\n\n\n// WEBPACK FOOTER //\n// ./src/api/memberCenter/index.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-tabs',{attrs:{\"type\":\"border-card\"},on:{\"tab-click\":_vm.handleClick},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},_vm._l((_vm.tags),function(item,index){return _c('el-tab-pane',{key:index,attrs:{\"label\":item.name}},[(_vm.couponList.length>0)?_c('div',{staticClass:\"list-box\"},_vm._l((_vm.couponList),function(item,index){return _c('div',{key:index,staticClass:\"list-item flex-btw\"},[_c('div',[_c('h4',[_vm._v(_vm._s(item.couponName))]),_vm._v(\" \"),_c('p',[_vm._v(\"有效期：\"+_vm._s(item.beginDate)+\" - \"+_vm._s(item.endDate)+\" \")])]),_vm._v(\" \"),_c('div',{staticClass:\"item-code flex-column\",on:{\"click\":function($event){_vm.use(item)}}},[_c('div',{staticClass:\"flex-column\"},[_c('img',{attrs:{\"src\":require(\"@/assets/qrcode.png\"),\"alt\":\"\"}})]),_vm._v(\" \"),_c('span',[_vm._v(\"点击使用\")])])])})):_vm._e(),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowCard),expression:\"isShowCard\"}]},[_c('p',[_vm._v(\"当前没有卡券\")])])])})),_vm._v(\" \"),(_vm.isShow)?_c('div',{staticClass:\"popup\"},[_c('div',{staticClass:\"content\"},[_c('img',{staticClass:\"close\",attrs:{\"src\":require(\"@/assets/close.png\"),\"alt\":\"\"},on:{\"click\":_vm.close}}),_vm._v(\" \"),_c('h4',[_vm._v(_vm._s(_vm.title))]),_vm._v(\" \"),_c('p',[_vm._v(\"有效期：\"+_vm._s(_vm.beginDate)+\"-\"+_vm._s(_vm.endDate)+\" \")]),_vm._v(\" \"),_c('img',{attrs:{\"src\":_vm.url,\"alt\":\"\"}}),_vm._v(\" \"),_c('p',[_vm._v(\"扫码核销\")])])]):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-752b7622\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/card/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-752b7622\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"indentedSyntax\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-752b7622\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-752b7622\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/card/index.vue\n// module id = null\n// module chunks = ","import index from '../components/card/index'\n\nconst routes = [{\n    path: '/',\n    component: index\n  }\n]\n\nexport default routes\n\n\n// WEBPACK FOOTER //\n// ./src/router/card.js","import Vue from 'Vue'\nimport VueRouter from 'vue-router'\nimport card from './card.vue'\nimport '@/styles/index.sass'\nimport routes from '../../router/card.js'\nimport '@/styles/index.sass'\nimport {\n  Tabs,\n  TabPane,\n} from 'element-ui'\nVue.use(Tabs)\nVue.use(TabPane)\nVue.use(VueRouter)\nvar router = new VueRouter({\n  routes\n})\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  render: h => h(card)\n})\n\n\n// WEBPACK FOOTER //\n// ./src/pages/card/card.js","module.exports = \"data:image/png;base64,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\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/qrcode.png\n// module id = jWhC\n// module chunks = 1"],"sourceRoot":""}